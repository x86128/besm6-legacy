------------------------------------------------------------------------
r272 | vak | 2009-10-30 09:24:09 +0000 (Fri, 30 Oct 2009) | 3 lines

Выдача сообщения о кодировке при подключении по Telnet.


------------------------------------------------------------------------
r271 | leobru | 2009-10-30 09:07:57 +0000 (Fri, 30 Oct 2009) | 2 lines

Консулы работают в режиме видеотона, но прием быстро затыкается.

------------------------------------------------------------------------
r270 | vak | 2009-10-30 08:03:28 +0000 (Fri, 30 Oct 2009) | 3 lines

Замедлил медленный таймер до 16 мсек (было 4 мсек).
Теперь срыв с приёма происходит примерно через 20 секунд.

------------------------------------------------------------------------
r269 | leobru | 2009-10-30 02:00:33 +0000 (Fri, 30 Oct 2009) | 1 line

Починил готовность дисков
------------------------------------------------------------------------
r268 | leobru | 2009-10-29 22:31:57 +0000 (Thu, 29 Oct 2009) | 1 line

Заведена новая конфигурация системы "ЭМУЛЯТ", терминалов теперь 24 в стандартном режиме Видеотон-340, включен ТМГУ
------------------------------------------------------------------------
r267 | vak | 2009-10-29 22:17:36 +0000 (Thu, 29 Oct 2009) | 3 lines

Добавлен пример запуска СЕРП с выдачей списка конфигураций ГЕНС.


------------------------------------------------------------------------
r266 | vak | 2009-10-29 19:32:26 +0000 (Thu, 29 Oct 2009) | 3 lines

Починена перестановка диска с устройства на устройство.


------------------------------------------------------------------------
r265 | vak | 2009-10-29 19:23:16 +0000 (Thu, 29 Oct 2009) | 3 lines

Пауза холостого режима перенесена после выполнения команды.


------------------------------------------------------------------------
r264 | vak | 2009-10-29 10:20:00 +0000 (Thu, 29 Oct 2009) | 3 lines

Разметка диска: сделана генерация заголовка дорожки.


------------------------------------------------------------------------
r263 | leobru | 2009-10-29 07:57:47 +0000 (Thu, 29 Oct 2009) | 2 lines

Исправлено искажение слова 1001 зоны 603.

------------------------------------------------------------------------
r262 | leobru | 2009-10-29 00:35:19 +0000 (Thu, 29 Oct 2009) | 1 line

Разметка завершается успешно
------------------------------------------------------------------------
r261 | leobru | 2009-10-28 22:26:04 +0000 (Wed, 28 Oct 2009) | 1 line

Диски размечаются, но задача разметки зависает в конце
------------------------------------------------------------------------
r260 | leobru | 2009-10-28 19:38:06 +0000 (Wed, 28 Oct 2009) | 2 lines

Базовые значения для чтения заголовка дорожки.

------------------------------------------------------------------------
r259 | vak | 2009-10-28 10:00:51 +0000 (Wed, 28 Oct 2009) | 3 lines

Разметка МД: добавлен дамп буфера данных.


------------------------------------------------------------------------
r258 | vak | 2009-10-28 08:34:04 +0000 (Wed, 28 Oct 2009) | 7 lines

Разметка диска продвинулась чуть дальше. После разметки дорожки выполняется
операция чтения заголовка, которая должна, вероятно, возвращать какие-то
специальные данные.

Режим SOFT_CLOCK включен по умолчанию.


------------------------------------------------------------------------
r257 | leobru | 2009-10-28 05:36:23 +0000 (Wed, 28 Oct 2009) | 2 lines

Теперь можно вводить из именованного пайпа.

------------------------------------------------------------------------
r256 | leobru | 2009-10-28 04:00:41 +0000 (Wed, 28 Oct 2009) | 1 line

Выдача на телетайп, мягкая асинхронность (временные прерывания по модельному времени, но со спящим режимом
------------------------------------------------------------------------
r255 | vak | 2009-10-27 10:07:02 +0000 (Tue, 27 Oct 2009) | 3 lines

Обмен с диском: независимые направления КМД, убран ненужный обмен полузонами.


------------------------------------------------------------------------
r254 | leobru | 2009-10-27 04:31:25 +0000 (Tue, 27 Oct 2009) | 1 line

Исправлена опечатка
------------------------------------------------------------------------
r253 | vak | 2009-10-26 19:57:07 +0000 (Mon, 26 Oct 2009) | 3 lines

Упорядочение драйвера МД.


------------------------------------------------------------------------
r252 | leobru | 2009-10-26 03:46:22 +0000 (Mon, 26 Oct 2009) | 2 lines

Нефункциональные управляющие символы выдаются в половинной яркости, как предписано Видеотоном.

------------------------------------------------------------------------
r251 | leobru | 2009-10-26 03:11:58 +0000 (Mon, 26 Oct 2009) | 2 lines

Добавлен сырой ASCII ввод (QWERTY), возможность отключать стирающий забой - чтобы было видно стандартное приглашение.

------------------------------------------------------------------------
r250 | vak | 2009-10-25 19:27:21 +0000 (Sun, 25 Oct 2009) | 2 lines

Добавлена отладочная печать сетевых подключений.

------------------------------------------------------------------------
r249 | vak | 2009-10-25 17:40:12 +0000 (Sun, 25 Oct 2009) | 3 lines

Сделаны команды "set ttyN /dev/tty" и "set ttyN /dev/null".


------------------------------------------------------------------------
r248 | vak | 2009-10-25 14:55:24 +0000 (Sun, 25 Oct 2009) | 3 lines

Чистка хвостов.


------------------------------------------------------------------------
r247 | vak | 2009-10-25 14:41:28 +0000 (Sun, 25 Oct 2009) | 3 lines

Устранён конфликт между сетевыми терминалами и консолью.


------------------------------------------------------------------------
r246 | vak | 2009-10-25 13:06:43 +0000 (Sun, 25 Oct 2009) | 3 lines

Сделано подключение к терминалам через telnet.


------------------------------------------------------------------------
r245 | vak | 2009-10-25 09:04:40 +0000 (Sun, 25 Oct 2009) | 3 lines

Доводка скрипта expect.


------------------------------------------------------------------------
r244 | leobru | 2009-10-25 08:07:49 +0000 (Sun, 25 Oct 2009) | 2 lines

Опечатка в перекодировке КОИ-7, сокращено время на протяжку бумаги в АЦПУ, переключение файлов АЦПУ.

------------------------------------------------------------------------
r243 | leobru | 2009-10-25 05:42:27 +0000 (Sun, 25 Oct 2009) | 2 lines

Утилита разметки дисков для ОС ДИСПАК

------------------------------------------------------------------------
r242 | vak | 2009-10-24 19:23:37 +0000 (Sat, 24 Oct 2009) | 7 lines

Исправлена ошибка конфликта с библиотекой libreadline: пересекается имя
глобальной переменной "PC". Нельзя добавлять -lreadline в LIBS, надо
подгружать её через dlopen.
Backspace в терминалах эмулятора сделан "стирающим". Выдача "ERR"
поправлена, теперь она попадает в начало следующей строки.


------------------------------------------------------------------------
r241 | vak | 2009-10-24 18:19:18 +0000 (Sat, 24 Oct 2009) | 5 lines

Добавлен пример автоматизированного прогона задач с использованием expect.
Для запуска надо зайти в каталог simh и выполнить "dispak.expect".
Входной пакет помещается в файл input.txt, выдача оказывается в output.txt.


------------------------------------------------------------------------
r240 | leobru | 2009-10-24 06:51:39 +0000 (Sat, 24 Oct 2009) | 3 lines

Смена, дата, время устанавливаются автоматически, test_dispak.ini 
переименован в dispak.ini, добавлено назначение консольного терминала.

------------------------------------------------------------------------
r239 | leobru | 2009-10-24 02:54:37 +0000 (Sat, 24 Oct 2009) | 1 line

Псевдо-мультитерминальность, кодировка ввода привязана к устройству, поправлены флаги устройств
------------------------------------------------------------------------
r238 | leobru | 2009-10-23 18:07:45 +0000 (Fri, 23 Oct 2009) | 3 lines

Теперь можно включать "set cpu koi7" для ввода без переключения 
раскладки; backspace работает.

------------------------------------------------------------------------
r237 | leobru | 2009-10-23 07:05:34 +0000 (Fri, 23 Oct 2009) | 3 lines

Холостой режим учитывает состояние ввода с ПЛ, сброшена готовность УВвК -
больше не нужно говорить "НЕТ В0, НЕТ В1". 

------------------------------------------------------------------------
r236 | leobru | 2009-10-23 05:39:15 +0000 (Fri, 23 Oct 2009) | 2 lines

По умолчанию БРС/БРЗ имитируются.

------------------------------------------------------------------------
r235 | vak | 2009-10-23 05:03:42 +0000 (Fri, 23 Oct 2009) | 4 lines

Полечена проблема зависания и крэша на библиотеке SDL: нельзя вызывать её
из обработчика сигнала. Оптимизирован холостой режим: ускорилось АЦПУ.


------------------------------------------------------------------------
r234 | leobru | 2009-10-22 18:58:12 +0000 (Thu, 22 Oct 2009) | 3 lines

Исправлена ошибка в команде УИМ, добавлена возможность работы с памятью в обход БРЗ/БРС,
задел для работы с терминалом без переключения раскладки.

------------------------------------------------------------------------
r233 | vak | 2009-10-22 09:16:18 +0000 (Thu, 22 Oct 2009) | 3 lines

Добавлена блокировка ждущего режима, пока работает АЦПУ.


------------------------------------------------------------------------
r232 | vak | 2009-10-22 07:52:39 +0000 (Thu, 22 Oct 2009) | 3 lines

Правка скрипта automake для simh.


------------------------------------------------------------------------
r231 | vak | 2009-10-22 07:34:58 +0000 (Thu, 22 Oct 2009) | 3 lines

Отладка скриптов autoconf/automake.


------------------------------------------------------------------------
r230 | leobru | 2009-10-22 04:42:48 +0000 (Thu, 22 Oct 2009) | 1 line

Надпечатка в АЦПУ, ввод по А3 с перфоленты, исправлена ошибка записи от ядра в матадреса 1-7
------------------------------------------------------------------------
r229 | vak | 2009-10-21 15:20:17 +0000 (Wed, 21 Oct 2009) | 4 lines

Сборка simh/besm6 интегрирована в общую систему configure/automake.
Библиотеки readline и SDL подключаются автоматически.


------------------------------------------------------------------------
r228 | vak | 2009-10-21 14:02:00 +0000 (Wed, 21 Oct 2009) | 5 lines

Сделана индикация ошибок обмена с барабанами и дисками через УВВ 4035.
Теперь эмулятор не останавливается по причинам "Device not attached"
и "Чтение неинициализированного барабана".


------------------------------------------------------------------------
r227 | vak | 2009-10-21 12:24:25 +0000 (Wed, 21 Oct 2009) | 8 lines

Введен режим idle: в ждущем цикле ДИСПАКа, если терминалы простаивают,
эмулятор останавливается до очередного тика таймера.
Пока нет задач, загрузка процессора получается близкой к нулю.
Отключен останов "число в чужом листе".
Оптимизирована отрисовка графической панели, теперь она не тормозит
выполнение.


------------------------------------------------------------------------
r226 | vak | 2009-10-21 09:03:38 +0000 (Wed, 21 Oct 2009) | 3 lines

Подготовка барабанов в test_dispak.ini.


------------------------------------------------------------------------
r225 | leobru | 2009-10-21 03:46:00 +0000 (Wed, 21 Oct 2009) | 1 line

Makefile for punch
------------------------------------------------------------------------
r224 | leobru | 2009-10-21 03:26:16 +0000 (Wed, 21 Oct 2009) | 1 line

Реализован ввод с перфоленты
------------------------------------------------------------------------
r223 | leobru | 2009-10-20 19:58:07 +0000 (Tue, 20 Oct 2009) | 2 lines

Работает печать на АЦПУ (в stdout).

------------------------------------------------------------------------
r222 | vak | 2009-10-20 19:50:14 +0000 (Tue, 20 Oct 2009) | 6 lines

Переделана модификация адреса следующей команды.
Альтернативный вариант: команда мода 0 не взводит ПрИК.
Всё продолжает работать.
Возвращены правки с varargs: я был неправ.


------------------------------------------------------------------------
r221 | vak | 2009-10-20 14:07:50 +0000 (Tue, 20 Oct 2009) | 5 lines

Таймеры переделаны на реальное время. Теперь часы в диспаке идут правильно.
Терминалы: завершение ввода по <Enter>, пропуск нетекстовых
символов при выводе.


------------------------------------------------------------------------
r220 | vak | 2009-10-20 13:24:25 +0000 (Tue, 20 Oct 2009) | 3 lines

Терминалы: добавлена поддержка ввода в кодировке UTF-8.


------------------------------------------------------------------------
r219 | vak | 2009-10-20 11:13:09 +0000 (Tue, 20 Oct 2009) | 3 lines

Починено восстановление признака модификации адреса следующей команды
при возврате из прерывания. Теперь диспак работает устойчиво.

------------------------------------------------------------------------
r218 | leobru | 2009-10-20 09:34:08 +0000 (Tue, 20 Oct 2009) | 2 lines

Избегаем ошибки, связанной с возвратом под команду модификации адреса.

------------------------------------------------------------------------
r217 | vak | 2009-10-20 09:10:39 +0000 (Tue, 20 Oct 2009) | 3 lines

Добавлено автоматическое подключение библиотеки -lsunmath при сборке dispak.


------------------------------------------------------------------------
r216 | vak | 2009-10-20 07:50:39 +0000 (Tue, 20 Oct 2009) | 2 lines

Упрощён скрипт вызова диспака. Заглушена команда УВВ 4115.

------------------------------------------------------------------------
r215 | leobru | 2009-10-20 07:07:57 +0000 (Tue, 20 Oct 2009) | 2 lines

Косметические правки.

------------------------------------------------------------------------
r214 | leobru | 2009-10-20 02:12:22 +0000 (Tue, 20 Oct 2009) | 1 line

Реализован ввод с терминала, все еще есть ошибки в обработке прерываний
------------------------------------------------------------------------
r213 | leobru | 2009-10-20 00:18:22 +0000 (Tue, 20 Oct 2009) | 1 line

Исправлена ошибка в ВЫПР, добавлена выдача на VT через КВУ
------------------------------------------------------------------------
r212 | vak | 2009-10-19 15:26:29 +0000 (Mon, 19 Oct 2009) | 3 lines

Таймер 62.5 мсек на 10 бите ГРП. Обращения к лентам заглушены.


------------------------------------------------------------------------
r211 | vak | 2009-10-18 15:36:33 +0000 (Sun, 18 Oct 2009) | 4 lines

Исправлена ошибка в dispak/disk.c: lseek(SEEK_CUR) с отрицательным смещением
не работает как ожидалось, так как тип off_t беззнаковый.


------------------------------------------------------------------------
r210 | vak | 2009-10-18 15:13:55 +0000 (Sun, 18 Oct 2009) | 3 lines

Исправлена отрисовка панели на Mac OS X.


------------------------------------------------------------------------
r209 | vak | 2009-10-18 05:56:50 +0000 (Sun, 18 Oct 2009) | 2 lines

Завершение переименования emulator в dispak.

------------------------------------------------------------------------
r208 | vak | 2009-10-18 05:40:41 +0000 (Sun, 18 Oct 2009) | 2 lines

Переименование старого эмулятора в dispak.

------------------------------------------------------------------------
r207 | vak | 2009-10-17 20:02:13 +0000 (Sat, 17 Oct 2009) | 2 lines

Добавлен диск 2113. Старый эмулятор переименован в dispak.

------------------------------------------------------------------------
r206 | vak | 2009-10-17 15:22:54 +0000 (Sat, 17 Oct 2009) | 4 lines

Добавлены исходные тексты ДИСПАК для Эльбрус-1К2 (СВС),
извлечённые из архива АРАП на диске 2113.


------------------------------------------------------------------------
r205 | vak | 2009-10-17 12:46:02 +0000 (Sat, 17 Oct 2009) | 4 lines

На панели добавлены ГРП и МГРП. При заказе событий через вызов sim_activate()
расставлены метрики времени в виде макросов MSEC и USEC.


------------------------------------------------------------------------
r204 | leobru | 2009-10-17 06:05:37 +0000 (Sat, 17 Oct 2009) | 3 lines

Реализованы точки останова по записи и считыванию в SIMH.
Интервал отрисовки панели увеличен до модельных 20 мс.

------------------------------------------------------------------------
r203 | leobru | 2009-10-17 04:01:00 +0000 (Sat, 17 Oct 2009) | 1 line

Начата работа с Консулом
------------------------------------------------------------------------
r202 | leobru | 2009-10-16 19:31:33 +0000 (Fri, 16 Oct 2009) | 2 lines

Удлинен номер страницы в КУС.

------------------------------------------------------------------------
r201 | vak | 2009-10-16 19:02:27 +0000 (Fri, 16 Oct 2009) | 2 lines

Поправлена отрисовка панели. Косметическое правки в tty.c.

------------------------------------------------------------------------
r200 | vak | 2009-10-16 16:25:03 +0000 (Fri, 16 Oct 2009) | 3 lines

На графическую панель добавлены регистры-модификаторы.


------------------------------------------------------------------------
r199 | leobru | 2009-10-16 07:55:25 +0000 (Fri, 16 Oct 2009) | 2 lines

Эмулятор диспака теперь может работать с дисками в формате SIMH.

------------------------------------------------------------------------
r198 | leobru | 2009-10-16 01:14:33 +0000 (Fri, 16 Oct 2009) | 1 line

Выходим на ждущий тест
------------------------------------------------------------------------
r197 | vak | 2009-10-15 15:19:21 +0000 (Thu, 15 Oct 2009) | 2 lines

Косметические правки.

------------------------------------------------------------------------
r196 | vak | 2009-10-15 14:37:01 +0000 (Thu, 15 Oct 2009) | 3 lines

Добавлены бинарные образы дисков 2053 и 2048 из Соснового Бора,
в формате SIMH.

------------------------------------------------------------------------
r195 | vak | 2009-10-15 14:12:31 +0000 (Thu, 15 Oct 2009) | 5 lines

Исправлено обнуление БАЗ после выталкивания БРЗ.
И небольшие косметические правки.
ДИСПАК доходит до увв 143, увв 177, увв 4177.


------------------------------------------------------------------------
r194 | vak | 2009-10-15 11:52:28 +0000 (Thu, 15 Oct 2009) | 4 lines

Отладочная печать данных МБ.
Небольшая оптимизаация negate().


------------------------------------------------------------------------
r193 | vak | 2009-10-15 07:27:18 +0000 (Thu, 15 Oct 2009) | 5 lines

Исправлена ошибка с номером дорожки диска.
Добавлен файл с кодом загрузчика ДИСПАК.
Упрощение rmr: теперь тип t_uint64.


------------------------------------------------------------------------
r192 | leobru | 2009-10-14 08:00:14 +0000 (Wed, 14 Oct 2009) | 2 lines

Уточнена работа с РМР.

------------------------------------------------------------------------
r191 | leobru | 2009-10-14 02:08:58 +0000 (Wed, 14 Oct 2009) | 1 line

Упрощен НЕД, нормализация избавлена от линейного цикла
------------------------------------------------------------------------
r190 | vak | 2009-10-13 16:33:36 +0000 (Tue, 13 Oct 2009) | 2 lines

Диски кое-как работают. Диспак доходит до фразы "НЕТ ВАР".

------------------------------------------------------------------------
r189 | leobru | 2009-10-13 16:21:50 +0000 (Tue, 13 Oct 2009) | 2 lines

УВВ 0, исправлена УВВ 031.

------------------------------------------------------------------------
r188 | vak | 2009-10-13 12:33:12 +0000 (Tue, 13 Oct 2009) | 4 lines

Начата реализация МД. Добавлен пример запуска ДИСПАК.
Переделаны 32-битные макросы BITn и BITSn: теперь BIT(n) и BITS(n).


------------------------------------------------------------------------
r187 | leobru | 2009-10-13 04:05:19 +0000 (Tue, 13 Oct 2009) | 1 line

64-разрядная арифметика, исправлена ошибка в УИМ, выдача памяти в плавающем формате
------------------------------------------------------------------------
r186 | leobru | 2009-10-12 21:38:56 +0000 (Mon, 12 Oct 2009) | 1 line

64-разрядные нормализация-округление
------------------------------------------------------------------------
r185 | vak | 2009-10-12 18:35:26 +0000 (Mon, 12 Oct 2009) | 4 lines

Оптимизация рисования панели. В тестах при останове введены задержки типа
"! sleep 1", чтобы успеть посмотреть содержимое БРЗ.


------------------------------------------------------------------------
r184 | vak | 2009-10-12 16:23:21 +0000 (Mon, 12 Oct 2009) | 5 lines

Добавлено рисование панели БРЗ в отдельном графическом окне.
Требуются библиотеки libSDL и libSDL_ttf. Используется шрифт
LucidaSansRegular.ttf, входящий в состав Sun jvm.


------------------------------------------------------------------------
r183 | vak | 2009-10-11 17:28:50 +0000 (Sun, 11 Oct 2009) | 3 lines

Задано время выполнения инструкций процессора.


------------------------------------------------------------------------
r182 | leobru | 2009-10-11 16:25:31 +0000 (Sun, 11 Oct 2009) | 2 lines

Умножение теперь 64-битное.

------------------------------------------------------------------------
r181 | vak | 2009-10-10 18:43:05 +0000 (Sat, 10 Oct 2009) | 3 lines

Косметические правки.


------------------------------------------------------------------------
r180 | vak | 2009-10-10 12:24:03 +0000 (Sat, 10 Oct 2009) | 3 lines

Макрос NEGATIVE переделан в inline-функцию.


------------------------------------------------------------------------
r179 | vak | 2009-10-10 12:20:12 +0000 (Sat, 10 Oct 2009) | 4 lines

Сдвиг, упаковка, распаковка, номер старшей единицы переделаны
на 64-битную арифметику. Упрощена структура alureg_t.


------------------------------------------------------------------------
r178 | vak | 2009-10-10 10:32:41 +0000 (Sat, 10 Oct 2009) | 3 lines

Тип alureg_t полностью перенесён в besm6_arith.c.
Файл besm6_legacy.h больше не нужен.

------------------------------------------------------------------------
r177 | vak | 2009-10-10 09:27:23 +0000 (Sat, 10 Oct 2009) | 2 lines

Переделано выполнение арифметических команд. Тест АУ проходит.

------------------------------------------------------------------------
r176 | leobru | 2009-10-10 08:55:07 +0000 (Sat, 10 Oct 2009) | 2 lines

Исправлены некоторые ошибки в реализации прерываний. 

------------------------------------------------------------------------
r175 | leobru | 2009-10-10 06:06:27 +0000 (Sat, 10 Oct 2009) | 4 lines

КУС МБ может задавать обмен со старшими блоками ОЗУ;
имитация прерывания;
недокументированное выключение двигателя АЦПУ.

------------------------------------------------------------------------
r174 | leobru | 2009-10-10 04:50:13 +0000 (Sat, 10 Oct 2009) | 2 lines

Added besm6_tty.c

------------------------------------------------------------------------
r173 | leobru | 2009-10-10 03:38:47 +0000 (Sat, 10 Oct 2009) | 1 line

Выдача на один телетайп, просмотр панели БРЗ из командной строки
------------------------------------------------------------------------
r172 | leobru | 2009-10-09 23:44:02 +0000 (Fri, 09 Oct 2009) | 1 line

Нереализованные УВВ дают СТОП, найден настоящий тест АЦПУ
------------------------------------------------------------------------
r171 | leobru | 2009-10-09 19:25:30 +0000 (Fri, 09 Oct 2009) | 2 lines

Реализованы АЦПУ (печать в stdout).

------------------------------------------------------------------------
r170 | vak | 2009-10-09 10:40:37 +0000 (Fri, 09 Oct 2009) | 4 lines

Избавились от таблицы optab[].
Исправлены warnings при компиляции.


------------------------------------------------------------------------
r169 | leobru | 2009-10-09 03:28:10 +0000 (Fri, 09 Oct 2009) | 1 line

Тест УУ проходит еще чуть дальше
------------------------------------------------------------------------
r168 | leobru | 2009-10-08 17:22:12 +0000 (Thu, 08 Oct 2009) | 2 lines

Тест УУ проходит дальше.

------------------------------------------------------------------------
r167 | leobru | 2009-10-08 08:17:49 +0000 (Thu, 08 Oct 2009) | 2 lines

Fixed core dump.

------------------------------------------------------------------------
r166 | vak | 2009-10-08 08:16:09 +0000 (Thu, 08 Oct 2009) | 3 lines

Косметические правки.


------------------------------------------------------------------------
r165 | vak | 2009-10-07 19:46:59 +0000 (Wed, 07 Oct 2009) | 2 lines

Упрощение таблицы optab[]. Остались только признаки AR, AROP и группы LG, AG, MG.

------------------------------------------------------------------------
r164 | leobru | 2009-10-07 19:28:32 +0000 (Wed, 07 Oct 2009) | 3 lines

Прерывания из АУ сопровождаются 4-м разрядом ГРП(?). Тест прерываний 
дает segfault эмулятора.

------------------------------------------------------------------------
r163 | leobru | 2009-10-07 18:57:00 +0000 (Wed, 07 Oct 2009) | 2 lines

Fixed cut & paste errors.

------------------------------------------------------------------------
r162 | vak | 2009-10-07 15:17:53 +0000 (Wed, 07 Oct 2009) | 4 lines

Избавился от uinstr_t. Упрощено выполнение команды YTA:
не требуется больше колдовать с флагом F_AR.


------------------------------------------------------------------------
r161 | vak | 2009-10-07 14:33:21 +0000 (Wed, 07 Oct 2009) | 6 lines

Рефакторинг реализации машинных инструкций.
Избавление от макросов в legacy.h и лишних флагов в optab.
код из optab.[ch] перенесён в legacy.h и arith.c.
Тест АУ работает.


------------------------------------------------------------------------
r160 | vak | 2009-10-07 11:36:40 +0000 (Wed, 07 Oct 2009) | 3 lines

Реализованы остановы по ПоП, ПоК и ~БРО.


------------------------------------------------------------------------
r159 | leobru | 2009-10-07 08:24:10 +0000 (Wed, 07 Oct 2009) | 3 lines

Работает тест АУ-УУ, но не тест УУ - предвыборка команд на БРС еще не 
такая, как надо.

------------------------------------------------------------------------
r158 | leobru | 2009-10-07 03:06:20 +0000 (Wed, 07 Oct 2009) | 1 line

Fixed core dump
------------------------------------------------------------------------
r157 | leobru | 2009-10-06 19:47:03 +0000 (Tue, 06 Oct 2009) | 3 lines

Чтение из БРЗ должно обновлять таблицу старшинства, добавлена 
обработка прерываний из АУ, несколько отдельных тестов.

------------------------------------------------------------------------
r156 | vak | 2009-10-06 19:40:42 +0000 (Tue, 06 Oct 2009) | 3 lines

Добавлены латинские (мадленовские) мнемоники кодов инструкций.
Работают для команд examine и dump с флагом "-l".

------------------------------------------------------------------------
r155 | vak | 2009-10-06 09:19:59 +0000 (Tue, 06 Oct 2009) | 3 lines

Магнитные барабаны: сделано гашение разрядов ГРП при старте обмена.


------------------------------------------------------------------------
r154 | vak | 2009-10-06 09:09:18 +0000 (Tue, 06 Oct 2009) | 4 lines

Исправлено начальное состояние ГРП для барабанов. Теперь тест МБ-ДИСК
работает непрерывно, как и должен. Слегка поправлены макросы свёртки.


------------------------------------------------------------------------
r153 | leobru | 2009-10-05 23:55:48 +0000 (Mon, 05 Oct 2009) | 1 line

Implemented breakpoints/watchpoints, more vararg fixes
------------------------------------------------------------------------
r152 | leobru | 2009-10-05 21:43:40 +0000 (Mon, 05 Oct 2009) | 1 line

Fixed VJM, convolution, varargs
------------------------------------------------------------------------
r151 | vak | 2009-10-05 18:28:57 +0000 (Mon, 05 Oct 2009) | 3 lines

Функция нормализации и округления перенесена в besm6_arith.c.


------------------------------------------------------------------------
r150 | vak | 2009-10-05 18:18:29 +0000 (Mon, 05 Oct 2009) | 4 lines

Удалены бинарные файлы дисков из Соснового Бора.
Если кому всё-таки понадобятся, используйте "svn checkout -r143".


------------------------------------------------------------------------
r149 | leobru | 2009-10-05 16:06:53 +0000 (Mon, 05 Oct 2009) | 2 lines

Fixed a core dump.

------------------------------------------------------------------------
r148 | vak | 2009-10-05 15:36:45 +0000 (Mon, 05 Oct 2009) | 3 lines

Работает тест МБ-ДИСК.


------------------------------------------------------------------------
r147 | vak | 2009-10-05 14:24:34 +0000 (Mon, 05 Oct 2009) | 10 lines

Подготовлен бинарный образ барабана 2.0.
Взят из зон 01300-01337 сосновоборского диска 2053.
Исправлены ошибки в реализации барабана.
Для команды "examine" сделан флаг "-x" - выдача
слов в шестнадцатеричном виде.
Добавлен тест с вызовом 8-й пультовой программы.
Переделана выдача БРЗ при останове - было вверх ногами.
ПП8 завершается остановом с буквами "МОЗУ" на БРЗ.


------------------------------------------------------------------------
r146 | vak | 2009-10-05 13:03:23 +0000 (Mon, 05 Oct 2009) | 5 lines

Отлажена утилита emd2simh - преобразование дисков Соснового Бора
в формат SIMH. Переход на automake-1.11 был преждевременным,
сделан откат на 1.10.


------------------------------------------------------------------------
r145 | vak | 2009-10-05 08:22:55 +0000 (Mon, 05 Oct 2009) | 5 lines

Переход на automake 1.11.
Добавлена утилита конвертации дисков из формата Соснового Бора в SIMH
(пока не закончена).


------------------------------------------------------------------------
r144 | vak | 2009-10-04 20:48:35 +0000 (Sun, 04 Oct 2009) | 3 lines

Закончена реализация барабана. Осталось протестировать.


------------------------------------------------------------------------
r143 | vak | 2009-10-04 18:00:13 +0000 (Sun, 04 Oct 2009) | 2 lines

Добавлены материалы, привезённые из Соснового Бора.

------------------------------------------------------------------------
r142 | vak | 2009-10-04 10:41:50 +0000 (Sun, 04 Oct 2009) | 3 lines

Исправлен останов при обращении к неподключенному барабану.
Добавлены копирайты и ссылки на GPL.

------------------------------------------------------------------------
r141 | vak | 2009-10-02 07:14:36 +0000 (Fri, 02 Oct 2009) | 3 lines

Еще немного доделан обмен с барабаном.


------------------------------------------------------------------------
r140 | vak | 2009-10-01 20:22:43 +0000 (Thu, 01 Oct 2009) | 2 lines

Переименование legacy.h.

------------------------------------------------------------------------
r139 | vak | 2009-10-01 13:26:04 +0000 (Thu, 01 Oct 2009) | 3 lines

Переименования файлов.


------------------------------------------------------------------------
r138 | vak | 2009-10-01 12:26:04 +0000 (Thu, 01 Oct 2009) | 2 lines

Файлы тестов переименованы для большей наглядности.

------------------------------------------------------------------------
r137 | vak | 2009-10-01 11:59:01 +0000 (Thu, 01 Oct 2009) | 3 lines

Тест УУ преобразован в мнемонику БЕМШ.


------------------------------------------------------------------------
r136 | vak | 2009-10-01 11:15:08 +0000 (Thu, 01 Oct 2009) | 3 lines

Тест АУ: добавлены комментарии с адресами переходов.


------------------------------------------------------------------------
r135 | leobru | 2009-10-01 04:17:19 +0000 (Thu, 01 Oct 2009) | 1 line

Исправлена ошибка в записи РП, добавлена реакция на двойное внутреннее прерывание, исправлена свертка ТР, тест УУ работает 100 млн. команд
------------------------------------------------------------------------
r134 | leobru | 2009-10-01 02:43:45 +0000 (Thu, 01 Oct 2009) | 1 line

Добавил прерывания по КЧ, номера страниц и блоков в ГРП
------------------------------------------------------------------------
r133 | vak | 2009-09-30 17:55:11 +0000 (Wed, 30 Sep 2009) | 2 lines

Fixed readline for Mac OS X.

------------------------------------------------------------------------
r132 | vak | 2009-09-30 15:50:49 +0000 (Wed, 30 Sep 2009) | 3 lines

Подготовка команды 033 к реализации МБ.


------------------------------------------------------------------------
r131 | vak | 2009-09-30 14:45:33 +0000 (Wed, 30 Sep 2009) | 6 lines

Добавлена поддержка readline от Philipp Hachtmann:
http://mailman.trailing-edge.com/pipermail/simh/2008-September/002072.html
http://hachti.de/simh/3.8-1/

Подчищены примеры.

------------------------------------------------------------------------
r130 | vak | 2009-09-30 08:31:43 +0000 (Wed, 30 Sep 2009) | 3 lines

Тест АУ переписан в формате входного файла с мнемоникой БЕМШ.
Добавлен листинг теста АУ от Эльбруса-Б - материал на будущее.

------------------------------------------------------------------------
r129 | vak | 2009-09-29 19:22:14 +0000 (Tue, 29 Sep 2009) | 5 lines

Поправлена выдача отладочной информации и протокола.
Тест АУ идет, в нём надо было разместить несколько слов
данных по определённым адресам.


------------------------------------------------------------------------
r128 | vak | 2009-09-29 14:37:49 +0000 (Tue, 29 Sep 2009) | 3 lines

Переделаны имена спец.регистров. Aex исправлен, но тест АУ пока не идёт.


------------------------------------------------------------------------
r127 | leobru | 2009-09-29 05:33:42 +0000 (Tue, 29 Sep 2009) | 3 lines

Печатается указатель на правую или левую команду в шаговом режиме.
Адреса с припиской пока не поддерживаются.

------------------------------------------------------------------------
r126 | vak | 2009-09-28 16:44:12 +0000 (Mon, 28 Sep 2009) | 3 lines

Чистка хвостов.


------------------------------------------------------------------------
r125 | vak | 2009-09-28 16:33:38 +0000 (Mon, 28 Sep 2009) | 5 lines

Биты свёртки переделаны на 01 и 10 для команд и чисел.
Тест pprog05 идёт, а tau останавливается на 34301.
Где-то что-то испортилось.


------------------------------------------------------------------------
r124 | vak | 2009-09-28 15:25:41 +0000 (Mon, 28 Sep 2009) | 4 lines

Добавлена возможность просмотра регистров в виде числа с плавающей точкой,
по команде "ex -f reg". Это возможно для регистров СМ, РМР, БРЗi, ТРi.


------------------------------------------------------------------------
r123 | vak | 2009-09-28 14:48:37 +0000 (Mon, 28 Sep 2009) | 4 lines

Введён псевдорегистр Aex, он же Аисп.
Убраны макросы вида STACKREG - они только затуманивают код.


------------------------------------------------------------------------
r122 | vak | 2009-09-28 14:26:07 +0000 (Mon, 28 Sep 2009) | 14 lines

Введён виртуальный регистр RUU - режимы УУ.
Содержит ПКП - признак контроля правой половины,
ПКЛ - признак контроля левой половины, РежЭ - режим экстракода,
РежПр - режим прерывания, ПрИК - модификация регистром М[16],
БРО - блокировка режима останова, ПрК - признак правой команды.

Введены новые макросы: IS_SUPERVISOR(x), SET_SUPERVISOR(x,m) для
установки признаков РежЭ и режПр.

Больше не нужны переменные addrmod, supmode, convol_mode, PPK.
Макросы sup_mmap, prot_disabled заменены на прямое обращение к M[17].
Переименованы tourn в TABST и protection в RZ - для единообразия.


------------------------------------------------------------------------
r121 | leobru | 2009-09-28 07:57:51 +0000 (Mon, 28 Sep 2009) | 2 lines

Регистры прерываний, таймер, плавающий и байтовый форматы выдачи.

------------------------------------------------------------------------
r120 | vak | 2009-09-27 19:20:20 +0000 (Sun, 27 Sep 2009) | 8 lines

Сделаны две копии регистров приписки: RP[8] (48 бит, по 12 бит на страницу)
и TLB[32] (постранично). RP используются для отображения и установки,
а TLB - для обращения к страницам. При вызове sim_instr() RP переписываются
в TLB.

Введено специальное псевдоустройство REG для латинских названий регистров.


------------------------------------------------------------------------
r119 | vak | 2009-09-27 17:39:22 +0000 (Sun, 27 Sep 2009) | 3 lines

Убраны все uint - не компилируется на Mac OS X.


------------------------------------------------------------------------
r118 | vak | 2009-09-27 15:28:33 +0000 (Sun, 27 Sep 2009) | 5 lines

Реализована загрузка и выгрузка файлов командами load и dump.
В нескольких местах добавлено обращение к пультовым регистрам 1-7 вместо памяти.
Добавлен пример запуска на SIMH пультовой программы 6: тест уножения-деления.
Тест идёт успешно.

------------------------------------------------------------------------
r117 | leobru | 2009-09-27 06:43:11 +0000 (Sun, 27 Sep 2009) | 2 lines

Interrupt handling, fixed MMU bits.

------------------------------------------------------------------------
r116 | vak | 2009-09-26 19:42:56 +0000 (Sat, 26 Sep 2009) | 2 lines

Allow non-ascii characters in register names.

------------------------------------------------------------------------
r115 | leobru | 2009-09-25 20:20:17 +0000 (Fri, 25 Sep 2009) | 1 line

besm6_to_ieee
------------------------------------------------------------------------
r114 | leobru | 2009-09-25 07:49:54 +0000 (Fri, 25 Sep 2009) | 2 lines

ALU test works.

------------------------------------------------------------------------
r113 | leobru | 2009-09-24 19:22:45 +0000 (Thu, 24 Sep 2009) | 3 lines

Brought in the implementations of all user mode instructions
from the Dispak emulator.

------------------------------------------------------------------------
r112 | leobru | 2009-09-23 17:41:46 +0000 (Wed, 23 Sep 2009) | 2 lines

Работа с регистрами приписки, защиты и БРЗ командой 002.

------------------------------------------------------------------------
r111 | vak | 2009-09-23 08:08:53 +0000 (Wed, 23 Sep 2009) | 3 lines

Добавлена команда 002.


------------------------------------------------------------------------
r110 | vak | 2009-09-23 07:02:04 +0000 (Wed, 23 Sep 2009) | 2 lines

Добавлены спец.регистры и приписка.

------------------------------------------------------------------------
r109 | leobru | 2009-09-23 06:49:46 +0000 (Wed, 23 Sep 2009) | 3 lines

Implemented MMU (data cache, TLB, front panel switches, page 
protection).

------------------------------------------------------------------------
r108 | leobru | 2009-09-23 03:25:08 +0000 (Wed, 23 Sep 2009) | 1 line

Small fixes, convolution macros
------------------------------------------------------------------------
r107 | vak | 2009-09-22 20:34:18 +0000 (Tue, 22 Sep 2009) | 3 lines

Добавлены макросы режима АУ и спец.регистры-модификаторы.


------------------------------------------------------------------------
r106 | vak | 2009-09-22 14:53:28 +0000 (Tue, 22 Sep 2009) | 3 lines

Сделаны две команды: ЗП и ЗПМ.


------------------------------------------------------------------------
r105 | vak | 2009-09-22 14:24:16 +0000 (Tue, 22 Sep 2009) | 2 lines

Use longjmp for stopping cpu.

------------------------------------------------------------------------
r104 | vak | 2009-09-22 13:50:37 +0000 (Tue, 22 Sep 2009) | 2 lines

Added SIMH sources for a new simulator.

------------------------------------------------------------------------
r103 | leobru | 2009-09-19 07:26:44 +0000 (Sat, 19 Sep 2009) | 3 lines

Fixed a bug in creating old format disks, implemented conversion from EMD to the new format,
check words for disks now show some real data.

------------------------------------------------------------------------
r102 | leobru | 2009-09-19 02:59:30 +0000 (Sat, 19 Sep 2009) | 1 line


------------------------------------------------------------------------
r101 | leobru | 2009-09-11 09:47:49 +0000 (Fri, 11 Sep 2009) | 2 lines

Implemented a new debug insn 'n' that skips over subroutine calls.

------------------------------------------------------------------------
r100 | vak | 2009-09-07 19:55:06 +0000 (Mon, 07 Sep 2009) | 3 lines

Added pult programs 7-10.


------------------------------------------------------------------------
r99 | vak | 2009-09-06 20:27:47 +0000 (Sun, 06 Sep 2009) | 2 lines

Added original pp6: loading from punch tape.

------------------------------------------------------------------------
r98 | vak | 2009-09-06 19:37:15 +0000 (Sun, 06 Sep 2009) | 2 lines

Finished PP6% reading a zone from disk.

------------------------------------------------------------------------
r97 | vak | 2009-09-06 10:41:57 +0000 (Sun, 06 Sep 2009) | 2 lines

Added pult programs 5 and 6.

------------------------------------------------------------------------
r96 | vak | 2009-09-06 09:34:26 +0000 (Sun, 06 Sep 2009) | 3 lines

Added pult programs 1-4, rewritten in BEMSH.


------------------------------------------------------------------------
r95 | vak | 2009-09-05 14:50:31 +0000 (Sat, 05 Sep 2009) | 3 lines

Simplified calling РВС in make2099.b6.


------------------------------------------------------------------------
r94 | vak | 2009-09-04 12:31:29 +0000 (Fri, 04 Sep 2009) | 8 lines

Make now builds two executables: dispak and besm6.
The first is a DISPAK emulator, as it is now.
Besm6 is a future emulator at hardware level.

Added a skeleton for implementing devices, which run
in a separate thread: "emulator/printer.[ch]".


------------------------------------------------------------------------
r93 | vak | 2009-09-04 08:21:53 +0000 (Fri, 04 Sep 2009) | 2 lines

Finished besmtool search command.

------------------------------------------------------------------------
r92 | vak | 2009-09-03 13:40:11 +0000 (Thu, 03 Sep 2009) | 2 lines

Implemented search, not finished yet.

------------------------------------------------------------------------
r91 | vak | 2009-09-02 18:11:45 +0000 (Wed, 02 Sep 2009) | 3 lines

Besmtool search command added. Not functional yet.


------------------------------------------------------------------------
r90 | vak | 2009-08-31 16:16:55 +0000 (Mon, 31 Aug 2009) | 6 lines

Besmtool: implemented commands 'erase' and 'zero'.
Converting from EMD reworked without long long type.
Added 'view' command in four encodings: gost, koi7, text and itm.
Repeated lines are skipped.


------------------------------------------------------------------------
r89 | leobru | 2009-08-25 19:09:24 +0000 (Tue, 25 Aug 2009) | 2 lines

Added features to E72, phys. addr. 02040.

------------------------------------------------------------------------
r88 | leobru | 2009-08-24 07:58:06 +0000 (Mon, 24 Aug 2009) | 2 lines

Implemented event control and return from and event.

------------------------------------------------------------------------
r87 | vak | 2009-08-23 18:14:12 +0000 (Sun, 23 Aug 2009) | 3 lines

Added english mnemonics fo passport entries.


------------------------------------------------------------------------
r86 | vak | 2009-08-23 18:04:03 +0000 (Sun, 23 Aug 2009) | 3 lines

Added example of 2053 statistics.


------------------------------------------------------------------------
r85 | vak | 2009-08-23 14:22:30 +0000 (Sun, 23 Aug 2009) | 3 lines

Passport processing: added ДИС. Unknown passport entries are printed.


------------------------------------------------------------------------
r84 | vak | 2009-08-23 14:19:32 +0000 (Sun, 23 Aug 2009) | 3 lines

Added krab sources.


------------------------------------------------------------------------
r83 | leobru | 2009-08-21 07:57:24 +0000 (Fri, 21 Aug 2009) | 2 lines

Fixed a bug related to creating sparse volumes.

------------------------------------------------------------------------
r82 | vak | 2009-08-20 19:17:30 +0000 (Thu, 20 Aug 2009) | 4 lines

Besmtool: implemented "negative" zone offset by 4, when creating
disk image from EMD directories..


------------------------------------------------------------------------
r81 | vak | 2009-08-20 16:50:59 +0000 (Thu, 20 Aug 2009) | 3 lines

Passport search fixed for compatibility with S.Bor.


------------------------------------------------------------------------
r80 | vak | 2009-08-20 15:44:34 +0000 (Thu, 20 Aug 2009) | 2 lines

Besmtool: added "pass" command.

------------------------------------------------------------------------
r79 | vak | 2009-08-20 13:41:04 +0000 (Thu, 20 Aug 2009) | 2 lines

Besmtool: added writing disk to file.

------------------------------------------------------------------------
r78 | vak | 2009-08-20 09:50:40 +0000 (Thu, 20 Aug 2009) | 3 lines

Besmtool: added conversion of disk image from ESD format.


------------------------------------------------------------------------
r77 | vak | 2009-08-19 20:27:30 +0000 (Wed, 19 Aug 2009) | 2 lines

Added astra.

------------------------------------------------------------------------
r76 | leobru | 2008-11-08 06:11:51 +0000 (Sat, 08 Nov 2008) | 2 lines

Fixed the implementation of elementary functions. 

------------------------------------------------------------------------
r75 | leobru | 2008-02-26 06:03:15 +0000 (Tue, 26 Feb 2008) | 3 lines

All ALGOL chars can now be input; implemented distinction between tapes and disks (offset granularity),
check words for tapes.

------------------------------------------------------------------------
r74 | vak | 2008-02-23 09:09:15 +0000 (Sat, 23 Feb 2008) | 4 lines

Added po/ru.gmo to repository - now user is now required to have gettext
installed. Fixed references from examples/Makefile to emulator/besm6.


------------------------------------------------------------------------
r73 | leobru | 2008-02-23 04:59:06 +0000 (Sat, 23 Feb 2008) | 1 line

Overprinting made visible in emulated e64
------------------------------------------------------------------------
r72 | vak | 2008-02-22 21:30:26 +0000 (Fri, 22 Feb 2008) | 4 lines

Sources moved to emulator/ subdirectory.
Directory diskdir/ renamed to disks/.


------------------------------------------------------------------------
r71 | vak | 2008-02-22 18:21:30 +0000 (Fri, 22 Feb 2008) | 3 lines

Updated examples/dtran.b6.


------------------------------------------------------------------------
r70 | leobru | 2008-02-22 17:16:09 +0000 (Fri, 22 Feb 2008) | 2 lines

The service program COPY (PERE) works; added tracing to native e64.

------------------------------------------------------------------------
r69 | vak | 2008-02-22 15:48:12 +0000 (Fri, 22 Feb 2008) | 3 lines

Added missing chars for koi8, cp1251, cp866.


------------------------------------------------------------------------
r68 | vak | 2008-02-22 10:23:19 +0000 (Fri, 22 Feb 2008) | 3 lines

All text strings prepared for localization.


------------------------------------------------------------------------
r67 | leobru | 2008-02-22 05:19:43 +0000 (Fri, 22 Feb 2008) | 1 line

Build fixes, BESM6_PATH checked in one place, better passport parsing, visible overprint
------------------------------------------------------------------------
r66 | vak | 2008-02-21 22:25:50 +0000 (Thu, 21 Feb 2008) | 6 lines

Using gettext() for localization. Convert all text strings, which should
be localized, into _(strings). Run make, then extract string prototypes
from po/besm6.pot, put them to po/ru.po and localize. Run make install,
and besm6 will start speaking Russian.


------------------------------------------------------------------------
r65 | vak | 2008-02-21 20:47:43 +0000 (Thu, 21 Feb 2008) | 4 lines

Fixed printing error messages in Algol-BESM. It uses undocumented
symbol 265 - repeating last character.


------------------------------------------------------------------------
r64 | vak | 2008-02-21 17:55:48 +0000 (Thu, 21 Feb 2008) | 5 lines

Using mkstemp() instead of mktemp: it's more secure.
Using types int64_t and uint64_t, autoconfigured.
No long long's more.


------------------------------------------------------------------------
r63 | leobru | 2008-02-21 05:50:30 +0000 (Thu, 21 Feb 2008) | 1 line

Added an address to *65 for SERP
------------------------------------------------------------------------
r62 | vak | 2008-02-20 21:52:14 +0000 (Wed, 20 Feb 2008) | 3 lines

Ported to Cygwin. Default encoding is cp1251. Using mkstemp() 
for creating temporary files. 

------------------------------------------------------------------------
r61 | vak | 2008-02-20 15:06:59 +0000 (Wed, 20 Feb 2008) | 4 lines

Symbol LOZENGE (25CA) replaced byа WHITE DIAMOND (25C7).
Added EF-BB-BF at beginning of UTF-8 output.


------------------------------------------------------------------------
r60 | vak | 2008-02-20 14:10:26 +0000 (Wed, 20 Feb 2008) | 3 lines

Added disk 2049 and tapes 101, 102, 103.


------------------------------------------------------------------------
r59 | leobru | 2008-02-20 00:35:10 +0000 (Wed, 20 Feb 2008) | 1 line

Restored bemsh-auto.b6 to working order
------------------------------------------------------------------------
r58 | vak | 2008-02-19 20:49:32 +0000 (Tue, 19 Feb 2008) | 5 lines

Printing of instructions per second is now done only with option "-s".
Repeat "-s" twice to get statistics by instructions.
Output listings of examples added to repository.


------------------------------------------------------------------------
r57 | vak | 2008-02-19 13:37:58 +0000 (Tue, 19 Feb 2008) | 5 lines

Implemented "besmtool dump" and "besmtool write --from-file=foo".
Added encoding.h: now encoding.c could be used independently
from other files.


------------------------------------------------------------------------
r56 | vak | 2008-02-19 10:01:39 +0000 (Tue, 19 Feb 2008) | 4 lines

Added examples/pascal-pretty.b6. Simplified Bemsh examples.
Besmdisk/ renamed to besmtool/ and prepared for automake.


------------------------------------------------------------------------
r55 | vak | 2008-02-18 22:31:06 +0000 (Mon, 18 Feb 2008) | 4 lines

Fixed extracode 64. All tests run fine, except Algol-BESM, which in native
version gives more empty lines.


------------------------------------------------------------------------
r54 | vak | 2008-02-18 19:39:26 +0000 (Mon, 18 Feb 2008) | 3 lines

Madlen example prints a table of GOST encoding.


------------------------------------------------------------------------
r53 | vak | 2008-02-18 18:23:29 +0000 (Mon, 18 Feb 2008) | 3 lines

Added missing characters in unicode conversion tables.


------------------------------------------------------------------------
r52 | vak | 2008-02-18 17:43:27 +0000 (Mon, 18 Feb 2008) | 4 lines

Added "--input=encoding=" option. Now 2099 compiles fine independently
of local LANG settings.


------------------------------------------------------------------------
r51 | vak | 2008-02-18 17:20:06 +0000 (Mon, 18 Feb 2008) | 3 lines

Added support for local encodings KOI8-*, CP1251 and CP866.


------------------------------------------------------------------------
r50 | vak | 2008-02-18 15:59:08 +0000 (Mon, 18 Feb 2008) | 3 lines

Fixed end-of-lines for Algol-BESM. Fixed printing lower-ten as 'e'.


------------------------------------------------------------------------
r49 | vak | 2008-02-18 15:16:38 +0000 (Mon, 18 Feb 2008) | 5 lines

Global transition to Unicode. All sources recoded. At the moment only
UTF-8 can be used as local encoding for *.b6 files and output messages.
Upgrade to automake 1.10.


------------------------------------------------------------------------
r48 | vak | 2008-02-18 11:59:22 +0000 (Mon, 18 Feb 2008) | 5 lines

New functions for output: gost_putc() and gost_write().
Printing rewritten using GOST as main encoding.
Fixed "make log" to use english locale.


------------------------------------------------------------------------
r47 | leobru | 2008-02-18 08:28:22 +0000 (Mon, 18 Feb 2008) | 2 lines

Implemented setting of error interception in the passport.

------------------------------------------------------------------------
r46 | leobru | 2008-02-18 06:17:12 +0000 (Mon, 18 Feb 2008) | 2 lines

Endianness is autoconfigured, the source is now 64-bit clean (no ulongs where exactly 32 bits are needed).

------------------------------------------------------------------------
r45 | vak | 2008-02-17 22:29:58 +0000 (Sun, 17 Feb 2008) | 4 lines

Vsinput rewritten using GOST as a primary encoding.
Unfortunately, "`filename" insertion is broken.


------------------------------------------------------------------------
r44 | vak | 2008-02-17 19:23:22 +0000 (Sun, 17 Feb 2008) | 4 lines

Implemented ITM<->GOST and TEXT->GOST encodings.
Table koi8_to_gost[] extended to 256 bytes.


------------------------------------------------------------------------
r43 | leobru | 2008-02-17 03:36:33 +0000 (Sun, 17 Feb 2008) | 3 lines

Finally the AU test works completely - loops forever.
A multiplication by 0 must always return 0.

------------------------------------------------------------------------
r42 | leobru | 2008-02-16 19:55:31 +0000 (Sat, 16 Feb 2008) | 2 lines

Skipping insn check is now allowed; added M-20 format to the punchcard test.

------------------------------------------------------------------------
r41 | leobru | 2008-02-16 07:54:01 +0000 (Sat, 16 Feb 2008) | 3 lines

Implemented the insn/data check. Undocumented *75 0/1 switches the store mode.
The kernel always works in the insn store mode for the sake of *66.

------------------------------------------------------------------------
r40 | vak | 2008-02-15 19:24:09 +0000 (Fri, 15 Feb 2008) | 3 lines

Fixed bug in dpout: tail of output was lost sometimes.


------------------------------------------------------------------------
r39 | vak | 2008-02-15 18:58:54 +0000 (Fri, 15 Feb 2008) | 4 lines

E64: fixed printing of real numbers, and multiline output
of commands, octal, and real numbers.


------------------------------------------------------------------------
r38 | vak | 2008-02-15 15:14:11 +0000 (Fri, 15 Feb 2008) | 4 lines

Implemented option "--path=". Recompilation of 2099 now works fine.
Fixed bugs in "make install". Added file ansidecl.h.


------------------------------------------------------------------------
r37 | leobru | 2008-02-15 09:02:59 +0000 (Fri, 15 Feb 2008) | 2 lines

ALGOL-specific symbols can now be entered and are printed uniquely.

------------------------------------------------------------------------
r36 | vak | 2008-02-14 19:16:31 +0000 (Thu, 14 Feb 2008) | 7 lines

Implemented disk search path: BESM6_PATH.
Default is "$HOME/.besm6:/usr/local/share/besm6".
Task input queue is placed in $HOME/.besm6/input_queue.
Run "make install" to install binaries and disk images to /usr/local.
Some code cleanup.


------------------------------------------------------------------------
r35 | vak | 2008-02-14 17:23:02 +0000 (Thu, 14 Feb 2008) | 3 lines

Fixed compilation bug caused by previous commit.


------------------------------------------------------------------------
r34 | vak | 2008-02-14 17:17:34 +0000 (Thu, 14 Feb 2008) | 3 lines

Code cleanup and prettyprinting.


------------------------------------------------------------------------
r33 | vak | 2008-02-14 16:22:49 +0000 (Thu, 14 Feb 2008) | 11 lines

All encoding tables moved no new file encoding.c.
Implemented itm-to-koi8-cyrillic table. Now we can use diff to compare
output with and without -x option.

Disabled printing ^L to the display. It causes screen erase,
which is very inconvenient.

Added sources of getopt, for portability.
Added file ChangeLog, just to be closer to GNU standards.


------------------------------------------------------------------------
r32 | vak | 2008-02-13 22:57:00 +0000 (Wed, 13 Feb 2008) | 3 lines

Fixed e64.


------------------------------------------------------------------------
r31 | leobru | 2008-02-13 20:34:32 +0000 (Wed, 13 Feb 2008) | 2 lines

Punchcard demonstration.

------------------------------------------------------------------------
r30 | leobru | 2008-02-13 19:49:39 +0000 (Wed, 13 Feb 2008) | 3 lines

Removed DEBUG and obsolete assembly optimizations,
fixed punching for BEMSH (partial cards).

------------------------------------------------------------------------
r29 | vak | 2008-02-13 19:44:46 +0000 (Wed, 13 Feb 2008) | 8 lines

Fixed bug in e64, now Bemsh runs (almost) fine.
Added new option --trace-e64 for debugging print extracode.
Disabled tracing e75 on --trace, it is too verbose.
Disabled printing run time on e63-1, itmust be fixed first.
Makefile: remove disk image 2099 on "make distclean".
Added two examples: bemsh-auto.b6 and monitor80.b6.


------------------------------------------------------------------------
r28 | vak | 2008-02-13 15:28:27 +0000 (Wed, 13 Feb 2008) | 3 lines

Configure: added checking for math library.


------------------------------------------------------------------------
r27 | vak | 2008-02-13 11:54:08 +0000 (Wed, 13 Feb 2008) | 7 lines

Using configure script for target configuration.
When you need to change something in Makefile, you should edit
configure.am and run automake && autoconf && ./configure.

Disk image 2099 removed from repository. It is compiled on "make all".


------------------------------------------------------------------------
r26 | vak | 2008-02-13 10:23:05 +0000 (Wed, 13 Feb 2008) | 3 lines

New option -q equivalent to --output-disable. Disk image 2099 updated.
Run make log to create ChangeLog.

------------------------------------------------------------------------
r25 | leobru | 2008-02-13 10:10:54 +0000 (Wed, 13 Feb 2008) | 2 lines

Implemented parsing of visible punchcards, fixed bugs.

------------------------------------------------------------------------
r24 | leobru | 2008-02-13 07:04:55 +0000 (Wed, 13 Feb 2008) | 1 line

Implemented bootstrapping of volume 2099
------------------------------------------------------------------------
r23 | vak | 2008-02-12 16:41:03 +0000 (Tue, 12 Feb 2008) | 4 lines

Reading input task passport implemented inside main program.
Utility vsinput is not needed anymore. Vsix renamed to besm6.


------------------------------------------------------------------------
r22 | vak | 2008-02-12 16:06:54 +0000 (Tue, 12 Feb 2008) | 4 lines

Implemented punching in dots-and-holes format (default).
Use --punch-binary option for old behaviour.


------------------------------------------------------------------------
r21 | vak | 2008-02-12 15:41:54 +0000 (Tue, 12 Feb 2008) | 4 lines

Utility dpout is built into the emulator.
Old behaviour could be reached using --output-disable
and --decode-output options. Some gcc warnings fixed.

------------------------------------------------------------------------
r20 | vak | 2008-02-11 18:27:31 +0000 (Mon, 11 Feb 2008) | 4 lines

Options parsed using getopt_long(). Added files AUTHORS and COPYING.
Batch tasks have output enabled by default.


------------------------------------------------------------------------
r19 | vak | 2008-02-11 14:58:46 +0000 (Mon, 11 Feb 2008) | 6 lines

Files imgtodisk.c and zdump.c moved to besmdisk/ directory.
Make clean changed to remove binary programs, to be compatible
with GNU conventions. Make clobber is not necessary anymore.
Fixed some compilation warnings.


------------------------------------------------------------------------
r18 | leobru | 2008-02-10 23:12:24 +0000 (Sun, 10 Feb 2008) | 3 lines

Added comments to e-codes and a few ignored actions,
fixed e71 (output of bad codes could cause crash).

------------------------------------------------------------------------
r17 | vak | 2008-02-10 19:45:12 +0000 (Sun, 10 Feb 2008) | 6 lines

Extracode 64: fixed is almost compatible with native version.
Algol-BESM and ITM autocode produce identical output.
The only difference is in banner of Monitor-80:
the number of empty lines is different.


------------------------------------------------------------------------
r16 | vak | 2008-02-10 16:08:00 +0000 (Sun, 10 Feb 2008) | 3 lines

Extracode 64: implemented printing real numbers. Multiple print tasks allowed.


------------------------------------------------------------------------
r15 | leobru | 2008-02-09 18:29:43 +0000 (Sat, 09 Feb 2008) | 4 lines

Implemented disk offset in the passport (for Algol-BESM6). Combining an
offset with the -RW mode is not allowed (I don't remember the syntax)


------------------------------------------------------------------------
r14 | vak | 2008-02-08 23:16:37 +0000 (Fri, 08 Feb 2008) | 5 lines

Implemented extracode 64 according to specification:
GOST text, ITM text, octal numbers, CPU instructions.
Printing real numbers not implmented yet.


------------------------------------------------------------------------
r13 | leobru | 2008-02-08 18:41:15 +0000 (Fri, 08 Feb 2008) | 2 lines

The first step of implementing overstrike printing (FORTRAN + specifier)

------------------------------------------------------------------------
r12 | vak | 2008-02-08 15:41:11 +0000 (Fri, 08 Feb 2008) | 3 lines

Automated rebuilding of disk 2099. Some files renamed.


------------------------------------------------------------------------
r11 | vak | 2008-02-07 22:41:26 +0000 (Thu, 07 Feb 2008) | 3 lines

Examples for Bemsh and Madlen: using e64 for printing.


------------------------------------------------------------------------
r10 | vak | 2008-02-07 18:38:39 +0000 (Thu, 07 Feb 2008) | 4 lines

Added example for autocode ITM. Fixed e64, so autocode outpute
now looks more clear.


------------------------------------------------------------------------
r9 | leobru | 2008-02-07 05:37:37 +0000 (Thu, 07 Feb 2008) | 1 line


------------------------------------------------------------------------
r8 | vak | 2008-02-05 21:50:20 +0000 (Tue, 05 Feb 2008) | 3 lines

Added examples/*.b6.


------------------------------------------------------------------------
r7 | leobru | 2008-02-04 08:25:01 +0000 (Mon, 04 Feb 2008) | 3 lines

Added punching, more extracodes, ITM encoding.


------------------------------------------------------------------------
r6 | leobru | 2008-02-04 08:21:24 +0000 (Mon, 04 Feb 2008) | 3 lines

A description of the input data format for the emulator.


------------------------------------------------------------------------
r5 | vak | 2008-02-03 15:32:55 +0000 (Sun, 03 Feb 2008) | 3 lines

Added disk images: 2099, 2053, 2048.


------------------------------------------------------------------------
r4 | vak | 2008-02-03 15:28:23 +0000 (Sun, 03 Feb 2008) | 4 lines

Release vsix-2.4.1 dated 2006-03-19.
Previous release was 2.4.


------------------------------------------------------------------------
r3 | vak | 2008-02-03 15:25:31 +0000 (Sun, 03 Feb 2008) | 3 lines

Release vsix-2.3 dated 2001-02-24.


------------------------------------------------------------------------
r2 | vak | 2008-02-03 15:21:06 +0000 (Sun, 03 Feb 2008) | 3 lines

Release vsix-2.3 dated 2001-02-08.


------------------------------------------------------------------------
r1 | vak | 2008-02-01 19:47:09 +0000 (Fri, 01 Feb 2008) | 3 lines

Release vsix-2.0 dated 1999-01-28.


------------------------------------------------------------------------
